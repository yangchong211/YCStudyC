# C 语言基本语法
- 01.看一个案例
- 02.基础语法
    - 2.1 语句
    - 2.2 表达式
    - 2.3 语句块
    - 2.4 空格
    - 2.5 注释




### 01.看一个案例
```c
//所有的 C 语言程序都需要包含 main() 函数。 代码从 main() 函数开始执行。
int main(){
    //printf() 用于格式化输出到屏幕。printf() 函数在 "stdio.h" 头文件中声明。
    printf("hello word , yc 哈哈哈 \n");
    return 0;
}
```
- 接下来我们讲解一下上面这段程序：
程序的第一行 #include <stdio.h> 是预处理器指令，告诉 C 编译器在实际编译之前要包含 stdio.h 文件。
下一行 int main() 是主函数，程序从这里开始执行。
下一行 /*...*/ 将会被编译器忽略，这里放置程序的注释内容。它们被称为程序的注释。
下一行 printf(...) 是 C 中另一个可用的函数，会在屏幕上显示消息 "Hello, World!"。
下一行 return 0; 终止 main() 函数，并返回值 0。



### 02.基础语法
#### 2.1 语句

C 语言的代码由一行行语句（statement）组成。语句就是程序执行的一个操作命令。C 语言规定，语句必须使用分号结尾，除非有明确规定可以不写分号。

```c
int x = 1;
```

上面就是一个变量声明语句，声明整数变量`x`，并且将值设为`1`。

多个语句可以写在一行。

```c
int x; x = 1;
```

上面示例是两个语句写在一行。所以，语句之间的换行符并不是必需的，只是为了方便阅读代码。

一个语句也可以写成多行，这时就要依靠分号判断语句在哪一行结束。

```c
int x;
x
=
1
;
```

上面示例中，第二个语句`x = 1;`被拆成了四行。编译器会自动忽略代码里面的换行。

单个分号也是有效语句，称为“空语句”，虽然毫无作用。

```c
;
```

#### 2.2 表达式

C 语言的各种计算，主要通过表达式完成。表达式（expression）是一个计算式，用来获取值。

```c
1 + 2
```

上面代码就是一个表达式，用来获取`1 + 2`这个算术计算的结果。

表达式加上分号，也可以成为语句，但是没有实际的作用。

```c
8;
3 + 4;
```

上面示例是两个表达式，加上分号以后成为语句。

表达式与语句的区别主要是两点：

- 语句可以包含表达式，但是表达式本身不构成语句。
- 表达式都有返回值，语句不一定有。因为语句用来执行某个命令，很多时候不需要返回值，比如变量声明语句（`int x = 1`）就没有返回值。

#### 2.3 语句块

C 语言允许多个语句使用一对大括号`{}`，组成一个块，也称为复合语句（compounded statement）。在语法上，语句块可以视为多个语句组成的一个复合语句。

```c
{
  int x;
  x = 1;
}
```

上面示例中，大括号形成了一个语句块。

大括号的结尾不需要添加分号。

#### 2.4 空格

C 语言里面的空格，主要用来帮助编译器区分语法单位。如果语法单位不用空格就能区分，空格就不是必须的，只是为了增加代码的可读性。

```c
int x = 1;
// 等同于
int x=1;
```

上面示例中，赋值号（`=`）前后有没有空格都可以，因为编译器这里不借助空格，就能区分语法单位。

语法单位之间的多个空格，等同于单个空格。

```c
int    x =     1;
```

上面示例中，各个语法单位之间的多个空格，跟单个空格的效果是一样的。

空格还用来表示缩进。多层级的代码有没有缩进，其实对于编译器来说并没有差别，没有缩进的代码也是完全可以运行的。强调代码缩进，只是为了增强代码可读性，便于区分代码块。

大多数 C 语言的风格要求是，下一级代码比上一级缩进4个空格。为了书写的紧凑，本书采用缩写两个空格。

```c
// 缩进四个空格
if (x > 0)
    printf("positive\n");

// 缩进两个空格
if (x > 0)
  printf("positive\n");
```

只包含空格的行被称为空白行，编译器会完全忽略该行。

#### 2.5 注释

注释是对代码的说明，编译器会忽略注释，也就是说，注释对实际代码没有影响。

C 语言的注释有两种表示方法。第一种方法是将注释放在`/*...*/`之间，内部可以分行。

```c
/* 注释 */

/*
  这是一行注释
*/
```

这种注释可以插在行内。

```c
int open(char* s /* file name */, int mode);
```

上面示例中，`/* file name */`用来对函数参数进行说明，跟在它后面的代码依然会有效执行。

这种注释一定不能忘记写结束符号`*/`，否则很容易导致错误。

```c
printf("a "); /* 注释一
printf("b ");
printf("c "); /* 注释二 */
printf("d ");
```

上面示例的原意是，第一行和第三行代码的尾部，有两个注释。但是，第一行注释忘记写结束符号，导致注释一延续到第三行结束。

第二种写法是将注释放在双斜杠`//`后面，从双斜杠到行尾都属于注释。这种注释只能是单行，可以放在行首，也可以放在一行语句的结尾。这是 C99 标准新增的语法。

```c
// 这是一行注释

int x = 1; // 这也是注释
```

不管是哪一种注释，都不能放在双引号里面。双引号里面的注释符号，会成为字符串的一部分，解释为普通符号，失去注释作用。

```c
printf("// hello /* world */ ");
```

上面示例中，双引号里面的注释符号，都会被视为普通字符，没有注释作用。

编译时，注释会被替换成一个空格，所以`min/* space */Value`会变成`min Value`，而不是`minValue`。






## 标准库，头文件
- 头文件是什么
    - 头文件是扩展名为 .h 的文件，包含了 C 函数声明和宏定义，被多个源文件中引用共享。
    - 有两种类型的头文件：程序员编写的头文件和编译器自带的头文件。 
- 如何引用头文件
    - 在程序中要使用头文件，需要使用 C 预处理指令 #include 来引用它。前面我们已经看过 stdio.h 头文件，它是编译器自带的头文件。 
    - 引用头文件相当于复制头文件的内容，但是我们不会直接在源文件中复制头文件的内容，因为这么做很容易出错，特别在程序是由多个源文件组成的时候。
- 标准库头文件
    - C 语言自带的所有这些功能，统称为“标准库”（standard library），因为它们是写入标准的，到底包括哪些功能，应该怎么使用的，都是规定好的，这样才能保证代码的规范和可移植。
    - 不同的功能定义在不同的文件里面，这些文件统称为“头文件”（header file）。如果系统自带某一个功能，就一定还会自带描述这个功能的头文件，比如`printf()`的头文件就是系统自带的`stdio.h`。头文件的后缀通常是`.h`。
- 使用头文件举例子
    - 如果要使用某个功能，就必须先加载对应的头文件，加载使用的是`#include`命令。这就是为什么使用`printf()`之前，必须先加载`stdio.h`的原因。
    ```c
    #include <stdio.h>
    #include "file.h"
    ```
    - 第一种形式用于引用系统头文件。它在系统目录的标准列表中搜索名为 file 的文件。在编译源代码时，您可以通过 -I 选项把目录前置在该列表前。
    - 第二种形式用于引用用户头文件。它在包含当前文件的目录中搜索名为 file 的文件。在编译源代码时，您可以通过 -I 选项把目录前置在该列表前。
    - 注意，加载头文件的`#include`语句不需要分号结尾，详见《预处理器》一章。




